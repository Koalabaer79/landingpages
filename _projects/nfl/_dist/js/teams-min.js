function getTeams(e){$.getJSON("./assets/teams/"+e+".json",function(e){for(var t=["afc_east","afc_west","afc_north","afc_south","nfc_east","nfc_west","nfc_north","nfc_south"],s=["east","west","north","south","east","west","north","south"],n=0;n<t.length;n++)window[t[n]]=[];for(n=0;n<e.length;++n){var a=[],o=parseInt(e[n].standings.s)+parseInt(e[n].standings.n)+parseInt(e[n].standings.u),l=100*parseInt(e[n].standings.s)/o/100;l=isNaN(l)?0:l.toFixed(3);for(var i="<tr class='teams' id='"+e[n].code.toLowerCase()+"'><td><img class='smallImg' id='img"+n+"' src='assets/teams/logos/20x20/"+e[n].name.toLowerCase()+".png' /></td><td class='teamListed' id='name"+n+"'>"+e[n].full_name+"</td><td class='data'>"+o+"</td><td class='data'>"+e[n].standings.s+"</td><td class='data'>"+e[n].standings.n+"</td><td class='data'>"+e[n].standings.u+"</td><td class='data'>"+l+"</td><td class='data'>"+e[n].standings.p+"</td><td class='data'>"+e[n].standings.gp+"</td></tr>",c=0;c<t.length;c++){var d="";d=c<t.length/2?"afc":"nfc",e[n].conference==d&&e[n].division==s[c]&&(a.push(e[n].name),a.push(i),a.push(e[n].standings.s),a.push(e[n].standings.p),window[t[c]].push(a))}}for(var r=[window.afc_east,window.afc_west,window.afc_north,window.afc_south,window.nfc_east,window.nfc_west,window.nfc_north,window.nfc_south],g=[],h=0;h<r.length;h++)g.push(sortCat(r[h]));for(h=0;h<g.length;h++)for(var f=0;f<g[h].length;f++)$(g[h][f][1]).appendTo("#"+t[h])})}function sortCat(e){return e.sort(function(e,t){return t[2]-e[2]||t[3]-e[3]}),e}function showTable(e){var t=document.getElementById(e),s=document.getElementById("arrow"+e);"0px"==t.style.height||""==t.style.height?(t.style.height="200px",s.style.transform="rotate(-270deg)"):(t.style.height="0px",s.style.transform="rotate(-90deg)")}function showAll(){for(var e=["afcEast","afcWest","afcNorth","afcSouth","nfcEast","nfcWest","nfcNorth","nfcSouth"],t=0;t<e.length;t++){console.log(e[t]);var s=document.getElementById(e[t]),n=document.getElementById("arrow"+e[t]),a=document.getElementById("subNav");"0px"==s.style.height||""==s.style.height?(s.style.height="200px",n.style.transform="rotate(-270deg)",a.innerHTML="Fold all"):(s.style.height="0px",n.style.transform="rotate(-90deg)",a.innerHTML="Unfold all")}}function changeSeason(e){$.getJSON("./assets/teams/"+e+".json",function(e){for(var t=0;t<e.length;++t)el=document.getElementById(e[t].code.toLowerCase()),el.remove()}),getTeams(e)}function setSeasons(){$.getJSON("./assets/seasons/seasons.json",function(e){var t,s,n,a,o,l,i,c,d=(new Date).getFullYear(),r='<option value="">Select Season</option>';$(r).appendTo("#year");for(var g=0;g<e.length;++g){var h="";d==e[g]&&(h="selected"),r='<option value="'+e[g]+'" '+h+">"+e[g]+"-"+(+e[g]+1)+"</option>",$(r).appendTo("#year")}for(n=(t=document.getElementsByClassName("custom-select")).length,g=0;g<n;g++){for(a=(o=t[g].getElementsByTagName("select")[0]).length,(l=document.createElement("DIV")).setAttribute("class","select-selected"),l.innerHTML=o.options[o.selectedIndex].innerHTML,t[g].appendChild(l),(i=document.createElement("DIV")).setAttribute("class","select-items select-hide"),s=1;s<a;s++)(c=document.createElement("DIV")).innerHTML=o.options[s].innerHTML,c.setAttribute("onclick","changeSeason('"+o.options[s].innerHTML.substring(0,4)+"')"),c.addEventListener("click",function(e){var t,s,n,a,o,l,i;for(l=(a=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,o=this.parentNode.previousSibling,s=0;s<l;s++)if(a.options[s].innerHTML==this.innerHTML){for(a.selectedIndex=s,o.innerHTML=this.innerHTML,i=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,n=0;n<i;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}o.click()}),i.appendChild(c);t[g].appendChild(i),l.addEventListener("click",function(e){e.stopPropagation(),f(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function f(e){var t,s,n,a,o,l=[];for(t=document.getElementsByClassName("select-items"),s=document.getElementsByClassName("select-selected"),a=t.length,o=s.length,n=0;n<o;n++)e==s[n]?l.push(n):s[n].classList.remove("select-arrow-active");for(n=0;n<a;n++)l.indexOf(n)&&t[n].classList.add("select-hide")}document.addEventListener("click",f),getTeams(d)})}$(document).ready(function(){setSeasons()});