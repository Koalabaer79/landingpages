var defaultYear="2020";function getMatches(e){$.getJSON("./assets/matches/"+e+".json",function(t){var s=[];if(0!=t.length||""!=t.length){for(var n=0;n<t.length;n++){s.push("<div class='week'><h2>Woche "+(n+1)+"</h2></div>");for(var a=0;a<t[n].length;a++){var i=0,l=0;for(k=0;k<5;k++)i+=parseInt(t[n][a].visitor.points[k]),l+=parseInt(t[n][a].home.points[k]);s.push("<div class='match'><div class='full'>"+t[n][a].date+"</div><div class='half team'><img src='./assets/teams/logos/100x100/"+t[n][a].visitor.team+".png'><br />"+firstLetter(t[n][a].visitor.team)+"</div><div class='at'>@</div><div class='half team'><img src='./assets/teams/logos/100x100/"+t[n][a].home.team+".png'><br />"+firstLetter(t[n][a].home.team)+"</div><div class='half standings'>"+i+"</div><div class='at'></div><div class='half standings'>"+l+"</div></div>")}}for(n=0;n<s.length;++n)$(s[n]).appendTo("#playtable")}else{$("<h2> No Matches available - Season "+e+"-"+(e+1)+" did not start yet!</h2><p>You can watch the previous seasons instead.</p><p>Just click on the Dropdown-List under the headline and go throught the previous seasons!</p>").appendTo("#playtable")}})}function firstLetter(e){return e.replace(/^.{1}/g,e[0].toUpperCase())}function changeSeason(e){el=document.getElementById("playtable"),el.innerHTML="",getMatches(e)}function setSeasons(){$.getJSON("./assets/seasons/seasons.json",function(e){var t,s,n,a,i,l,o,c,r=(new Date).getFullYear(),d='<option value="">Select Season</option>';$(d).appendTo("#year");for(var h=0;h<e.length;++h){var p="";r==e[h]&&(p="selected"),d='<option value="'+e[h]+'" '+p+">"+e[h]+"-"+(+e[h]+1)+"</option>",$(d).appendTo("#year")}for(n=(t=document.getElementsByClassName("custom-select")).length,h=0;h<n;h++){for(a=(i=t[h].getElementsByTagName("select")[0]).length,(l=document.createElement("DIV")).setAttribute("class","select-selected"),l.innerHTML=i.options[i.selectedIndex].innerHTML,t[h].appendChild(l),(o=document.createElement("DIV")).setAttribute("class","select-items select-hide"),s=1;s<a;s++)(c=document.createElement("DIV")).innerHTML=i.options[s].innerHTML,c.setAttribute("onclick","changeSeason('"+i.options[s].innerHTML.substring(0,4)+"')"),c.addEventListener("click",function(e){var t,s,n,a,i,l,o;for(l=(a=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,i=this.parentNode.previousSibling,s=0;s<l;s++)if(a.options[s].innerHTML==this.innerHTML){for(a.selectedIndex=s,i.innerHTML=this.innerHTML,o=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,n=0;n<o;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}i.click()}),o.appendChild(c);t[h].appendChild(o),l.addEventListener("click",function(e){e.stopPropagation(),g(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function g(e){var t,s,n,a,i,l=[];for(t=document.getElementsByClassName("select-items"),s=document.getElementsByClassName("select-selected"),a=t.length,i=s.length,n=0;n<i;n++)e==s[n]?l.push(n):s[n].classList.remove("select-arrow-active");for(n=0;n<a;n++)l.indexOf(n)&&t[n].classList.add("select-hide")}document.addEventListener("click",g),getMatches(r)})}$(document).ready(function(){setSeasons()});